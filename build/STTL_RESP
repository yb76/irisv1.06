{TYPE:DISPLAY,NAME:STTL_RESP,GROUP:SGB,VERSION:1.0,MSG48:[[GET,n,2,~NOOFCARDS],[LOOP,,,[[~NOOFCARDS,1,,4],[,,{~NOOFCARDS/:3,~INDEX:0},]]],[GET,n,2,~CARDID],[GET,n,6,~CARD(~CARDID)/NUM],[GET,x+n,10,~CARD(~CARDID)/AMT],[ENDLOOP,,,[[,,{~INDEX++:},[[~INDEX,<~NOOFCARDS,,LOOP]]]]],[GETS,b,64,~TIMESTAMP]],MSG:[[CHK,128,[()MAC,/SGB/KMACr,,~AS2805|-17|]],[CHK,0,[[/STTL_REQ/FUNCTION,SETTLEMENT,,510],610]],[CHK,11,/CONFIG()/STAN],[GET,12,~TIME],[ADD,13,~TIME],[GET,15,~STTL_TIME],[GETS,39,~RC],[CHK,41,/CONFIG()/TID],[GETS,48,~FIELD48],[GET,74,~RFND],[GET,75,~RFND_R],[GET,76,~PUR],[GET,77,~PUR_R],[GET,86,~RFND_AMT],[GET,87,~RFND_AMT_R],[GET,88,~PUR_AMT],[GET,89,~PUR_AMT_R],[GET,97,~NET_AMT],[GET,118,~CASH],[GET,119,~CASH_AMT]],PATH:[[,,{~AS2805:[()PSTN_RECV,45,],:()IV_CLR,:[()AS2805_BREAK,~AS2805,~MSG],:[[~FIELD48,,{:[()AS2805_BREAK_CUSTOM,~FIELD48,~MSG48]},]],~RC:[()MAP_TABLE,SGB,MAP,~RC],~STTL_TIME+:[()MKTIME,YY,()TIME,YY,()NOW],~STTL_TIME:[()LEAP_ADJ,~STTL_TIME],~TIME+:[()MKTIME,YY,()TIME,YY,()NOW],~TIME:[()LEAP_ADJ,~TIME],~CARDSUM:[()SUM,~CARD(3)/AMT,()SUM,~CARD(4)/AMT,()SUM,~CARD(5)/AMT,~CARD(7)/AMT],/STTL_OK_LOOP/WHEN_CHECK:[()TIME,DDMM,/STTL_DATE/WHEN]},[[~RC,[00,95,97],,[[/iECRD/FUNCTION,,{//iECRD/INV:[()SUB,/STTL_RESP/PUR,/STTL_RESP/PUR_R],//iECRD/AMT:[()SUB,/STTL_RESP/PUR_AMT,/STTL_RESP/PUR_AMT_R],//iECRD/CASH:/STTL_RESP/CASH,//iECRD/TIP:/STTL_RESP/CASH_AMT,//iECRD/ACCOUNT:[()SUB,/STTL_RESP/RFND,/STTL_RESP/RFND_R],//iECRD/AUTHID:[()SUB,/STTL_RESP/RFND_AMT,/STTL_RESP/RFND_AMT_R],//iECRD/RC:~RC},]]],[~RC,00,,STTL_OK_LOOP],[~RC,[95,97],,STTL_LAST_OK],[~RC,N5,,STTL_NO_MORE_HIST],[~RC,[X7,98],{/LOGON()/INITIALISED:FALSE},STTL_NOK],STTL_NOK]]],SIGN:E39F6C2DC84CC247D2B8FC4FB83EF45940AD0269}